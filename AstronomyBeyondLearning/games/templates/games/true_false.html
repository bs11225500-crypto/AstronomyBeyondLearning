{% extends "main/base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/true_false.css' %}">
{% endblock %}

{% block content %}
{% if game_over %}

<div class="game-card">

    <h2>Game Over ğŸš€</h2>

    <p class="final-score">Your Score: {{ score }} / {{ max }}</p>

    {% if score == max %}
        <p class="perfect">Outstanding! ğŸŒŸ You got all answers correct!</p>
    {% elif score >= max|divisibleby:2 %}
        <p class="good">Great job! ğŸ’« Keep learning!</p>
    {% else %}
        <p class="try-again">Not bad! Try again to improve ğŸš€</p>
    {% endif %}

    <a href="{% url 'games:true_false' %}?reset=1" class="restart-btn">Play Again</a>

</div>

{% else %}
<div class="game-card">

    <h2>True or False â€“ Space Edition</h2>

    <div class="tf-top-bar">
        <p class="tf-timer">Time Left: <span id="timer">10</span>s</p>
        <p class="tf-score">Score: {{ score }}</p>
    </div>

    <p class="fact-text">{{ fact.statement }}</p>

    <form method="POST">
        {% csrf_token %}
        <button name="answer" value="true" class="true-btn">True</button>
        <button name="answer" value="false" class="false-btn">False</button>
    </form>

    {% if user_answer %}
        {% if result %}
            <p class="correct">Correct! ğŸ‰</p>
        {% else %}
            <p class="wrong">Wrong âŒ</p>
        {% endif %}
    {% endif %}
</div>

<!-- Hidden form for timer -->
<form id="timeUpForm" method="POST" style="display:none;">
    {% csrf_token %}
    <input type="hidden" name="time_up" value="1">
</form>
{% endif %}

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/true_false.js' %}"></script>
{% endblock %}
