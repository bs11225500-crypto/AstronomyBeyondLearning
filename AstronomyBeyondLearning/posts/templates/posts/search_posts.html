{% extends "main/base.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/search_posts.css' %}">
    
{% endblock %}

{% block content %}

<div class="cosmic-chronic-container reveal">
    <h1 class="cosmic-title reveal">Cosmic Chronicles</h1>
    <p class="explore-text reveal">Explore the latest celestial discoveries shared by our community.</p>

    <form method="GET" action="{% url 'posts:post_search_view' %}" class="search-bar-container">
        <input 
            type="text" 
            name="search" 
            placeholder="Search celestial discoveries..." 
            value="{{ query }}" 
            class="search-input reveal"
        >
        <button type="submit" class="search-button reveal">Search</button>
    </form>

    {% if posts %}
        <div class="cards-grid reveal">
            {% for post in posts %}
                <div class="post-card">
                    <h3>{{ post.title }}</h3>
                    <p>{{ post.content|truncatewords:20 }}</p>
                    <a href="{% url 'posts:post_detail' post.id %}">Read more</a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No results found.</p>
    {% endif %}
</div>
{% endblock %}
